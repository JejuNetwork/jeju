# Testnet-specific overrides for Farcaster Hubble

ingress:
  enabled: true
  className: alb
  annotations:
    alb.ingress.kubernetes.io/scheme: internet-facing
    alb.ingress.kubernetes.io/target-type: ip
    alb.ingress.kubernetes.io/backend-protocol: GRPC
    alb.ingress.kubernetes.io/listen-ports: '[{"HTTPS":443}]'
    alb.ingress.kubernetes.io/certificate-arn: "" # Will be set by deployment
    alb.ingress.kubernetes.io/healthcheck-path: /v1/info
    alb.ingress.kubernetes.io/healthcheck-protocol: HTTP
  hosts:
    - host: hub.testnet.jejunetwork.org
      paths:
        - path: /
          pathType: Prefix
  tls:
    - secretName: hub-tls
      hosts:
        - hub.testnet.jejunetwork.org

# Testnet resource allocation (smaller)
resources:
  limits:
    cpu: 2000m
    memory: 4Gi
  requests:
    cpu: 1000m
    memory: 2Gi

# Smaller storage for testnet
persistence:
  enabled: true
  storageClass: gp3
  size: 200Gi  # Testnet doesn't need full history

# Sync configuration for testnet
sync:
  fullSync: true

# Jeju integration
jeju:
  indexerEnabled: true
  indexerUrl: "http://indexer.jeju.svc.cluster.local:4350/graphql"
  syncIdentities: true
  graphqlEnabled: true
