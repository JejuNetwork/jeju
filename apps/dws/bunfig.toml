[install]
# Ensure React is resolved from the root to prevent duplicate instances
peer = false

[test]
# Preload shared test infrastructure - ensures jeju CLI is running
# The shared setup handles starting jeju dev --minimal if needed
preload = ["@jejunetwork/tests/bun-global-setup", "./tests/setup.ts"]

# Test timeout (60 seconds)
timeout = 60000

# Retry flaky tests once
retry = 1

# Exclude frontend tests - they use Playwright and must be run separately
# Run frontend tests with: cd frontend && bun run test
# Run synpress tests with: cd frontend && bun run test:e2e:full
root = "."

# Only test these patterns
include = ["**/*.test.ts"]

# Exclude frontend Playwright tests
exclude = ["**/frontend/**", "**/node_modules/**"]
